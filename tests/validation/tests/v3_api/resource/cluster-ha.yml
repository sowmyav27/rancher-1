ssh_key_path: .ssh/$AWS_SSH_KEY_NAME
kubernetes_version: $KUBERNETES_VERSION
nodes:
  - address: $ip1
    internal_address: $internalIp1 
    user: $user1
    role: [etcd, controlplane,worker]
  - address: $ip2
    internal_address: $internalIp2
    user: $user2
    role: [etcd, controlplane,worker]
  - address: $ip3 
    internal_address: $internalIp3
    user: $user3
    role: [etcd, controlplane,worker]

network:
  plugin: canal
  options:
    canal_flex_volume_plugin_dir: /opt/kubernetes/kubelet-plugins/volume/exec/nodeagent~uds
    flannel_backend_type: vxlan

services:
  kube-controller:
    extra_args:
      flex-volume-plugin-dir: /opt/kubernetes/kubelet-plugins/volume/exec/